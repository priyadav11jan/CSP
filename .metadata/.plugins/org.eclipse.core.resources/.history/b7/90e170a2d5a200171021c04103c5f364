package com.csp.system;

import org.junit.AfterClass;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.testng.Assert;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

import com.csp.config.DriverFactory;
import com.pangaea.ui.LoginPage;
import com.pangaea.ui.ShowAllTabs;
import com.pangaea.util.GetData;


public class Firstclass {
	
	
	
		WebDriver driver=DriverFactory.getdriverInstance();
		LoginPage login = new LoginPage(driver);
		ShowAllTabs sat=new ShowAllTabs(driver);
		
		String un= GetData.fromExcel("Test1", "Sheet1",1, 0);
		String pwd=GetData.fromExcel("Test1","Sheet1",1, 1);
		
		
	@Test
	public void TC001()
	
	{
		login.getUserNameTextBox().sendKeys("Test");
		login.getPasswordTextBox().sendKeys(pwd);
		
		
		Assert.assertTrue(login.getLoginButton().isDisplayed(),"Button is not displayed");
		
		login.getLoginButton().click();
		
		String actualError=driver.findElement(By.xpath("//div[contains(text(),'Please check')]")).getText();
		String expectedError="Please check your username and password. If you still can't log in, contact your Salesforce administrator.";
		
		Assert.assertEquals(actualError, expectedError);
		
		
	}
		
		
	
	
	
	@AfterClass
	public void postCondition()
	{
		driver.close();
	}

}
